@(agent: com.fasterxml.jackson.databind.JsonNode)
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!--[if IE 8]>          <html class="ie ie8"> <![endif]-->
<!--[if IE 9]>          <html class="ie ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
<!-- Page Title -->
<title>Travelo | Responsive HTML5 Travel Template</title>

<!-- Meta Tags -->
<meta charset="utf-8">
<meta name="keywords" content="HTML5 Template" />
<meta name="description"
	content="Travelo | Responsive HTML5 Travel Template">
<meta name="author" content="SoapTheme">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link type="text/css" href="assets/resources/components/bootstrap-datepicker/css/datepicker.css" rel="stylesheet" type="text/css" media="all" />
@include_css()


</head>

<body data-ng-app="travel-business"
	data-ng-controller="AgentBookingController">

	<div id="page-wrapper">
		@header()


		<section id="content" ng-init="init(@agent)">
		<div class="col-md-12">
			<!--  container -->
			<div id="main">
				<div class="row">
					<div class="col-sm-3 col-md-2">

						<div class="toggle-container filters-container"
							style="font-size: 10px;">

							<div class="panel style1 arrow-right" style="margin-bottom: 23px;">
								<h4 class="panel-title" style="padding: 0px;">
									<a href="/" style="padding: 12px;">Make New Booking</a>
								</h4>
							</div>
							<div class="panel style1 arrow-right" style="margin-bottom: 23px;">
								<h4 class="panel-title" ng-class="selectedTab==1 ? 'activeTab':''" style="padding: 0px;">
									<a href="" ng-class="selectedTab==1 ? 'activeTab':''" ng-click="selectedTab=1;showAgentProfile()" style="padding: 12px;">Agent
										Profile</a>
								</h4>

							</div>
							<div class="panel style1 arrow-right">
								<h4 class="panel-title" ng-class="selectedTab==2 ? 'activeTab':''" style="padding: 0px;">
									<a href="#myBooking" ng-class="selectedTab==2 ? 'activeTab':''" ng-click="selectedTab=2;agentProfile = false"
										style="padding: 12px;">My Booking</a>
								</h4>

							</div>

						</div>

					</div>

					<!--------------------------------------------------------------------------------->


					<div id="section" style="width: 1045px;padding: 0px;" 
						ng-if="agentProfile == false">

						<div class="col-lg-12">

							<div class="row">


								<div class="form-group">

									<div class="col-md-12" style="margin-bottom: 28px;">

										<div class="row" style="margin-top: 5px;margin-left: 5px;">
											<h2>Find My Booking</h2>
										</div>
										<div class="row">
											<div class="col-xs-12">
												<label type="text" class="col-xs-2">Guest Name :</label>
												<div>
													<input class="col-xs-6" type="text" name="guestname"
														ng-model="guest" style="height: 31px;">
												</div>
											</div>
										</div>
										<div class="row">
										<br>
											<div class="col-xs-12">
												<label type="text" class="col-xs-2">Check In :</label>
												<div class="col-xs-2" style="padding: 0px;">
													<input id="date" name="checkIn"
																data-ng-model="searchby.checkIn"
																class="input-filter form-control meal-font-text-size"
																data-provide="datepicker"
																data-date-autoclose="true" data-date-format="dd-mm-yyyy" >
												</div>
												<label type="text" class="col-xs-2">Check Out :</label>
												<div class="col-xs-2" style="padding: 0px;">
													<input id="date" name="checkOut"
																data-ng-model="searchby.checkOut"
																class="input-filter form-control meal-font-text-size"
																data-provide="datepicker"
																data-date-autoclose="true" data-date-format="dd-mm-yyyy" >
												</div>
											</div>
										</div>
										<div class="row">
										<br>
											<div class="col-xs-12">
												<label type="text" class="col-xs-2">Booking Id :</label>
												<div class="col-xs-2" style="padding: 0px;">
													<input type="text" name="bookingId"
														ng-model="searchby.bookingId" style="height: 31px;width: 166px;">
												</div>
												<label type="text" class="col-xs-2">Status :</label>
												<div class="col-xs-2" style="padding: 0px;">
													<select class="full-width" name="status"
														data-ng-model="searchby.status"
														ng-change="selectStatus(searchby.status)">
														<option value="Cancelled">Cancelled</option>
														<option value="available">Confirm</option>
														<option value="on request">On request</option>
														<option value="rejected">Rejected</option>
														<option value="rejected">Up coming Booking</option>
														
													</select>
												</div>
												<div class="col-xs-3 col-md-offset-1" >
													<button type="button"
													ng-click="showtable(searchby.checkIn,searchby.checkOut,guest,selectData.status,searchby.bookingId)"
													class="btn btn-primary">Find</button>
												</div>
											</div>
										</div>

									</div>


									<div class="form-group" ng-show="flag == 1">
										<div class="col-md-2"></div>
										<label style="color: red;">to date greater than from
											date</label>
									</div>

								</div>
								
							</div>
						</div>


						<!------------------------------------------------------------------------------------->
					</div>

					<div id="section" style="width: 1045px;"
						ng-if="agentProfile == true">

						<form class="cruise-booking-form" ng-submit="saveAgentData()">  <!--name="myForm" method="post" name="contact" action="/agentregister"  -->
							<div class="person-information" ng-if="editProfile == 'show'">
								<h2 class="col-md-3">Agent Profile</h2>
								<p align="right">
                               <input type="button" class="btn btn-primary" ng-click="showEditProfile()"  value="Edit" />
                                </p>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">first
											name :</label> <span class="col-md-7">{{agentBook[0].agent[0].firstName}}</span>

									</div>
								</div>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">last
											name :</label> <span class="col-md-7">{{agentBook[0].agent[0].lastName}}</span>
									</div>
								</div>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">company
											name :</label> <span class="col-md-7">{{agentBook[0].agent[0].companyName}}</span>
									</div>
								</div>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">company
											address :</label> <span class="col-md-7">{{agentBook[0].agent[0].companyAddress}}</span>
									</div>
								</div>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">nature
											of business :</label> <span class="col-md-7">{{agentBook[0].agent[0].business}}</span>
									</div>
								</div>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">Position/Designation
											:</label> <span class="col-md-7">{{agentBook[0].agent[0].Position}}</span>
									</div>
								</div>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">Preferred
											currency :</label> <span class="col-md-7">{{agentBook[0].agent[0].currency}}</span>
									</div>
								</div>
								<hr>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">
											Preferred Payment Method :</label> <span class="col-md-7">{{agentBook[0].agent[0].paymentMethod}}</span>
									</div>
								</div>
								
								<div class="row" ng-if="agentBook[0].agent[0].paymentMethod == 'Credit' || agentBook[0].agent[0].paymentMethod == 'Pre-Payment'">
								<div class="form-group col-md-11">
									
                                   		 <i class="soap-icon-bag circle col-md-1" style="color: darkorange;font-size: 19px;"></i>
                                    	<label class="form-group col-md-11" style="font-size: 12px;margin-top: 10px;">Credit Information</label>
                                    	<div class="form-group col-md-12">
                                    	<label class="col-md-3" style="color: #01b7f2;">
														Credit Limit :</label> <span class="col-md-8">{{agentBook[0].agent[0].creditLimit}}</span>
										</div>
										<div class="form-group col-md-12">
                                    	               <label class="col-md-3" style="color: #01b7f2;">
														available Credit Limit :</label> <span class="col-md-8">{{agentBook[0].agent[0].availableLimit}}</span>
											</div>
											<div class="form-group col-md-12">
														<label class="col-md-3" style="color: #01b7f2;">
														Credit Used :</label> <span class="col-md-8">{{creditUsed}}</span>
											</div>			
                             		  
                            	  </div>
								</div>

								<hr>

								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">
											direct Tel. No :</label> <span class="col-md-7">{{agentBook[0].agent[0].directCode}}-{{agentBook[0].agent[0].directTelNo}}</span>
									</div>
								</div>

								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">
											webSite :</label> <span class="col-md-7">{{agentBook[0].agent[0].webSite}}</span>
									</div>
								</div>


							</div>
							
                    <!-- ----------------------------------------------------------- -->

							<div class="person-information" ng-if="editProfile == 'edit'">
								<h2 class="form-group col-md-9">Agent Profile</h2>
								<p align="right" >
                               <input type="submit" class="btn btn-primary col-md-1 " value="Save" />
                               <input type="button" class="btn btn-primary col-md-1" ng-click="cancelEdit()" n value="Cancel"style="margin-left:10px"/>
                                </p>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">first
											name :</label>
											<input class="col-xs-6 ng-pristine ng-valid ng-touched" type="text" name="firstName" ng-model="agentEdit.firstName" style="height: 31px;" required> 
											<!-- <span class="col-md-7">{{agentBook[0].agent[0].firstName}}</span> -->

									</div>
								</div>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">last
											name :</label>
											<input class="col-xs-6 ng-pristine ng-valid ng-touched" type="text" name="lastname" ng-model="agentEdit.lastName" style="height: 31px;" required> 
									</div>
								</div>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">company
											name :</label>
											<input class="col-xs-6 ng-pristine ng-valid ng-touched" type="text" name="companyname" ng-model="agentEdit.companyName" style="height: 31px;" required>  
									</div>
								</div>
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">company
											address :</label>
											<input class="col-xs-6 ng-pristine ng-valid ng-touched" type="text" name="companyAddress" ng-model="agentEdit.companyAddress" style="height: 31px;"> 
									</div>
								</div>
								 <div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">nature
											of business :</label>
											<select class="col-xs-6" name="business" ng-model="agentEdit.business">													
														<option ng-repeat="nature in natureOfBusiness" value="{{nature.natureofbusiness}}">{{nature.natureofbusiness}}</option>
											</select>
											 
									</div>
								</div> 
								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">Position/Designation
											:</label>
											<input class="col-xs-6 ng-pristine ng-valid ng-touched" type="text" name="position" ng-model="agentEdit.position" style="height: 31px;"> 
											
									</div>
								</div>
								<!-- <div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">Preferred
											currency :</label> <span class="col-md-7">{{agentBook[0].agent[0].currency}}</span>
									</div>
								</div> -->
							

								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">
											direct Tel. No :</label> <input class="col-xs-1 ng-pristine ng-valid ng-touched" type="text" name="directCode" ng-model="agentEdit.directCode" style="height: 31px;"><span class="col-xs-1" style="width: 10px;">-</span><input class="col-xs-3 ng-pristine ng-valid ng-touched" type="text" name="directTelNo" ng-model="agentEdit.directTelNo" style="height: 31px;">
									</div>
								</div>

								<div class="row">
									<div class="form-group col-md-11">
										<label class="col-md-3" style="color: #01b7f2;">
											webSite :</label> <input class="col-xs-6 ng-pristine ng-valid ng-touched" type="text" name="webSite" ng-model="agentEdit.webSite" style="height: 31px;">
									</div>
								</div>


							</div>

         <!-- -------------------------------------- -->
						</form>

					</div>

				</div>
				<div class="row" ng-if="agentProfile == false">
					<div class="col-sm-12 col-md-12" style="background-color: white;margin-left: 14px;">
						<div class="form-group">
							<table border="1"
								style="width: 100%; font-size: small; text-align: center; margin-top: 28px;">
								<thead style="background-color: #01b7f2;">
									<tr>
										<th style="text-align: center;"><a style="color: white;">Booking
												Id</a></th>
										<th style="text-align: center; width: 80px;"><a
											style="color: white;">Agent Name</a></th>		
										<th style="text-align: center; width: 80px;"><a
											style="color: white;">Guest Name</a></th>
										<th style="text-align: center;"><a style="color: white;">Hotel
												Name</a></th>
										<th style="width: 91px; text-align: center;"><a
											style="color: white;">Service Date</a></th>
										<th style="width: 91px; text-align: center;"><a
											style="color: white;">Check Out</a></th>

										<!-- <th style="width: 56px; text-align: center;"><a
											style="color: white;">Total Night</a></th>

										<th style="text-align: center;"><a style="color: white;">Room
												type</a></th>
										<th style="text-align: center;"><a style="color: white;">No
												of Room</a></th> -->
										<th style="text-align: center;"><a style="color: white;">Booking
												Status</a></th>
										<th style="width: 83px; text-align: center;"><a
											style="color: white;">Total</a></th>
										<th style="width: 56px; text-align: center;"><a
											style="color: white;">Payment</a></th>
										<th style="width: 56px; text-align: center;"><a
											style="color: white;">Voucher</a></th>
										<th style="width: 56px; text-align: center;"><a
											style="color: white;">Invoice</a></th>	


										<!-- <th style="text-align: center;width: 45px;"><a style="color: white;">Nationality</a></th> -->
										<th style="text-align: center;width: 2px;"><a style="color: white;">Ammend/Cancel Booking</a></th>


									</tr>
								</thead>
								<tbody>

									<tr ng-repeat="agent in agentBook">
										<td>{{agent.id}}</td>
										<td style="text-align: left;">{{agent.agent[0].firstName}}
											{{agent.agent[0].lastName}}</td>
										<td style="text-align: left;">{{agent.travellerfirstname}}
											{{agent.travellerlastname}}</td>
										<td style="text-align: left;">{{agent.supplierNm}}</td>
										<td>{{agent.checkIn}}</td>
										<td>{{agent.checkOut}}</td>

										<!-- <td>{{agent.totalNightStay}}</td>

										<td>{{agent.roomNm}}</td>
										<td>{{agent.noOfroom}}</td> -->
										<td ng-if='agent.room_status != "available"' style="text-align: left;">{{agent.room_status}}</td>
										<td ng-if='agent.room_status == "available"' style="text-align: left;">Confirm</td>
										<td currency-rate ng-model="agent.total"
											styleValue="font-size: small;top: 0px;"
											rate="{{agent.total}}"
											supplier_curr="{{agent.currencyExchangeRate}}"
											agent_curr="{{agent.agent[0].currencyShort}}">{{agent.total}}<!-- <sup style="font-size: small;color: chocolate;top: 0px;" class="ng-binding"> {{agent.curr}}</sup> --></td>
										<!-- <td ng-if="agent.payment == 'no'">Outstanding</td>
                            <td ng-if="agent.payment == 'yes'">Received</td>  -->
										<td>{{agent.payment}}</td>
										<td></td>
										<td></td>

										<!--  <td>{{agent.nationalityNm}}</td> -->
										<td><a ng-click="showDetails(agent)"
											style="cursor: pointer;" data-toggle="modal"><span
												class="glyphicon glyphicon-list-alt" aria-hidden="true"
												style="font-size: 19px; padding: 4px; margin-left: 0px;"></span></a></td>

									</tr>

								</tbody>
							</table>
						</div>
						<section class="dpaging">
						<h4>{{pageNumber}} / {{pageSize}}</h4>

						<span class="dpagingright"> <a href="" class="dpagingprv"
							ng-click="onPrev()">Prev</a> <a href="" class="dpagingnxt"
							ng-click="onNext()">Next</a>
						</span> </section>
					</div>
				</div>
			</div>
		</section>


	</div>
	@include_js()



	<style>
.aTagclass {
	position: relative;
	display: block;
}

[class^="soap-icon"]:before,[class*=" soap-icon"]:before {
	line-height: inherit;
}

.toggle-container .panel.style1.arrow-right .panel-title>a:before {
	display: none;
}

#loading-id {
	display: none;
}

.setIcon {
	position: absolute;
	right: 0;
	top: 0;
	bottom: 0;
	height: 100%;
	width: 30px;
	background: #d9d9d9;
	content: "";
	font-size: 29px;
	padding-left: 12px;
	color: white;
	background: orange;
	padding-top: 7px;
}

#section {
	width: 900px;
	float: left;
	padding: 25px;
	background: white;
}

.col-xs-1,.col-sm-1,.col-md-1,.col-lg-1,.col-xs-2,.col-sm-2,.col-md-2,.col-lg-2,.col-xs-3,.col-sm-3,.col-md-3,.col-lg-3,.col-xs-4,.col-sm-4,.col-md-4,.col-lg-4,.col-xs-5,.col-sm-5,.col-md-5,.col-lg-5,.col-xs-6,.col-sm-6,.col-md-6,.col-lg-6,.col-xs-7,.col-sm-7,.col-md-7,.col-lg-7,.col-xs-8,.col-sm-8,.col-md-8,.col-lg-8,.col-xs-9,.col-sm-9,.col-md-9,.col-lg-9,.col-xs-10,.col-sm-10,.col-md-10,.col-lg-10,.col-xs-11,.col-sm-11,.col-md-11,.col-lg-11,.col-xs-12,.col-sm-12,.col-md-12,.col-lg-12
	{
	position: relative;
	min-height: 1px;
	/* padding-left: 15px; */
	padding-right: 20px;
}

.spanClass {
	background: #f5f5f5;
	height: 34px;
	padding: 0 45px 0 15px;
	line-height: 34px;
	display: block;
	color: #9e9e9e;
}


.soap-icon-bag:before{
	margin-left: -5px;
}
.activeTab{
	background-color: #01b7f2;
    color: white !important;
}


</style>
</body>
</html>

<script type="text/javascript" src="assets/resources/components/bootstrap-datepicker/js/bootstrap-datepicker.js")'></script>
